<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body></body>

  <script>
    // 通过new关键字调用的 那么这种方式就是构造函数的调用方式，那么构造函数内部的this就是该构造函数的实例
    // 1.
    function fn(name) {
      this.name = name;
    }
    var _n = new fn("小明");

    // 2.
    // function jQuery() {
    //   var _init = jQuery.prototype.init;
    //   //  _init 就是一个构造函数
    //   return new _init();
    // }
    // var length = 50;
    // jQuery.prototype = {
    //   constructor: jQuery,
    //   length: 100,
    //   init: function() {
    //     // this只能访问到实例本身的属性 也可以访问到实例原型中的属性
    //     /*
    // 对象中的属性查找原则
    //       this指向init构造函数的实例
    //       1、首先查看本身有没有length属性
    //       2、如果本身没有 就去它的原型对象中查找
    //       3、如果原型对象中没有 那么就去原型对象的原型对象中查找 总终找到根对象
    //       4、总终没有找到的话，就认为该对象中没有该属性，此时值为undefined
    //     */
    //     console.log(this.length);
    //   }
    // };
    // var $init = jQuery.prototype.init;
    // //  修改init函数的默认原型 指向新原型
    // $init.prototype = jQuery.prototype;
    // // debugger;
    // console.log(jQuery());

    function jQuery() {
      var _init = jQuery.prototype.init;
      return new _init();
    }
    jQuery.prototype = {
      length: 100,
      init: function() {
        console.log(this.length);
      }
    };
    jQuery.prototype.init.prototype = jQuery.prototype;
    console.log(jQuery());
  </script>
</html>
